
var popup = new mapboxgl.Popup({
        closeButton: false,
        closeOnClick: false
    });

    map.on('mouseenter', 'points', function(e) {
        // Change the cursor style as a UI indicator.
        map.getCanvas().style.cursor = 'pointer';

        // Populate the popup and set its coordinates
        // based on the feature found.
        popup.setLngLat(e.features[0].geometry.coordinates)
            .setHTML(e.features[0].properties.description)
            .addTo(map);
    });

    map.on('mouseleave', 'points', function() {
        map.getCanvas().style.cursor = '';
        popup.remove();
});


var toggleableLayerIds = [ 'inundaciones', 'laderas', 'dangerZone', 'hospitales', 'points'];
var toggleableLayerNames = ['Inundaciones', 'Laderas', 'Pol√≠gono CAP', 'Hospitales', 'Refugios'];

for (var i = 0; i < toggleableLayerIds.length; i++) {
                    var id   = toggleableLayerIds[i];
                    var name = toggleableLayerNames[i];

    var link = document.createElement('a');
    link.href = '#';
    link.className = 'active';
                    link.textContent = id;
                    link.value = id;

    link.onclick = function (e) {
        var clickedLayer = this.value;
        e.preventDefault();
        e.stopPropagation();

        var visibility = map.getLayoutProperty(clickedLayer, 'visibility');

        if (visibility === 'visible') {
            map.setLayoutProperty(clickedLayer, 'visibility', 'none');
            this.className = '';
        } else {
            this.className = 'active';
            map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
        }
    };

                    var layers = document.getElementById('menu');
                    link.textContent = name;
    layers.appendChild(link);
}


</script>

</body>
</html>

